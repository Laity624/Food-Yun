# 菜谱数据库索引配置

为了优化菜谱查询性能，建议在微信云开发控制台中为 `recipes` 集合添加以下复合索引：

## 推荐索引配置

### 1. 基础查询索引
```json
{
  "isPublic": 1,
  "createdAt": -1
}
```
用途：获取公开菜谱列表，按创建时间倒序

### 2. 场景分类索引
```json
{
  "sceneCategory": 1,
  "isPublic": 1,
  "createdAt": -1
}
```
用途：按场景分类筛选菜谱

### 3. 食材分类索引
```json
{
  "ingredientCategory": 1,
  "isPublic": 1,
  "createdAt": -1
}
```
用途：按食材分类筛选菜谱

### 4. 可选标签索引
```json
{
  "optionalTags": 1,
  "isPublic": 1,
  "createdAt": -1
}
```
用途：按可选标签筛选菜谱

### 5. 创建者索引
```json
{
  "creatorId": 1,
  "createdAt": -1
}
```
用途：获取特定用户的菜谱列表

### 6. 搜索索引
```json
{
  "name": "text",
  "description": "text"
}
```
用途：全文搜索菜谱名称和描述

## 配置方法

1. 登录微信开发者工具
2. 打开云开发控制台
3. 进入数据库管理
4. 选择 `recipes` 集合
5. 点击"索引管理"
6. 添加上述复合索引

## 注意事项

- 索引会占用额外存储空间
- 建议根据实际查询需求选择性添加
- 可以先添加基础查询索引，后续根据性能需求添加其他索引