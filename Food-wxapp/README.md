# Food-Yun 小程序

家庭菜谱管理小程序，基于微信小程序云开发。

## 项目结构

```
Food-wxapp/
├── pages/                  # 页面目录
│   ├── index/             # 首页
│   ├── recipe-list/       # 菜谱列表
│   ├── recipe-detail/     # 菜谱详情
│   ├── recipe-form/       # 添加/编辑菜谱
│   ├── search/            # 搜索页面
│   ├── order/             # 点餐页面
│   ├── order-list/        # 订单列表
│   ├── friends/           # 好友管理
│   ├── friend-requests/   # 好友请求
│   └── profile/           # 个人中心
├── components/            # 组件目录
├── utils/                 # 工具函数
├── cloudfunctions/        # 云函数目录
│   ├── login/            # 用户登录
│   ├── user/             # 用户管理
│   ├── recipe/           # 菜谱管理
│   ├── order/            # 订单管理
│   └── friend/           # 好友管理
├── app.js                # 小程序入口文件
├── app.json              # 小程序配置文件
├── app.wxss              # 全局样式文件
└── project.config.json   # 项目配置文件
```

## 开发步骤

### 1. 环境准备

1. 下载并安装微信开发者工具
2. 用微信开发者工具打开此项目目录
3. 在微信开发者工具中开通云开发环境

### 2. 云开发配置

1. 在微信开发者工具中，点击"云开发"按钮
2. 开通云开发环境，记住环境ID
3. 修改 `app.js` 中的环境ID：
   ```javascript
   wx.cloud.init({
     env: 'your-env-id', // 替换为你的环境ID
     traceUser: true,
   })
   ```

### 3. 云函数部署

1. 右键点击 `cloudfunctions/login` 目录
2. 选择"上传并部署：云端安装依赖"
3. 重复以上步骤部署其他云函数：user、recipe、order、friend

### 4. 数据库初始化

在云开发控制台中创建以下集合：
- `users` - 用户信息
- `recipes` - 菜谱数据
- `orders` - 订单记录
- `friendships` - 好友关系

###  

1. 在云开发控制台中配置数据库权限
2. 上传 `database.rules.json` 中的安全规则
3. 配置云存储权限规则

## 功能特性

- ✅ 微信登录
- ✅ 菜谱管理（增删改查）
- ✅ 菜谱搜索和分类
- ✅ 好友系统
- ✅ 点餐功能
- ✅ 订单管理
- ✅ 云存储图片上传

## 技术栈

- **前端**: 微信小程序原生开发
- **后端**: 微信云开发
- **数据库**: 云数据库（MongoDB）
- **存储**: 云存储
- **函数**: 云函数（Node.js）

## 开发注意事项

1. 确保小程序基础库版本 >= 2.2.3
2. 云函数中的环境ID要与小程序中保持一致
3. 测试时需要在真机上测试云开发功能
4. 图片上传需要配置云存储权限

## 部署上线

1. 在微信开发者工具中点击"上传"
2. 填写版本号和项目备注
3. 在微信公众平台提交审核
4. 审核通过后发布上线