<!-- é¡µé¢å®¹å™¨ -->
<view class="page-container safe-area-top">

  <!-- å¤´éƒ¨ç”¨æˆ·ä¿¡æ¯ -->
  <view class="header-section">
    <view class="user-info">
      <view class="greeting">
        <text class="greeting-text">æ—©ä¸Šå¥½ï¼Œ{{userInfo ? userInfo.nickname : 'ç”¨æˆ·'}}</text>
        <text class="sub-text">ä»Šå¤©æƒ³åƒä»€ä¹ˆï¼Ÿ</text>
      </view>
    </view>

    <!-- æœç´¢æ¡† -->
    <view class="search-container">
      <text class="iconfont icon-search search-icon"></text>
      <input 
        class="search-input" 
        placeholder="æœç´¢èœè°±ã€é£Ÿæ..." 
        placeholder-class="placeholder"
        bindfocus="onSearchClick"
      />
    </view>
  </view>

  <!-- å¿«æ·åŠŸèƒ½ç½‘æ ¼ -->
  <view class="quick-grid">
    <view class="feature-card" bindtap="onAddRecipeClick">
      <view class="icon-container gradient-green floating">
        <text class="iconfont icon-plus"></text>
      </view>
      <text class="feature-text">åˆ›å»ºèœè°±</text>
    </view>
    
    <view class="feature-card" bindtap="onOrderClick">
      <view class="icon-container gradient-purple floating" style="animation-delay: 0.2s;">
        <text class="iconfont icon-cart"></text>
      </view>
      <text class="feature-text">æ™ºèƒ½ç‚¹é¤</text>
    </view>
    
    <view class="feature-card" bindtap="onFriendsClick">
      <view class="icon-container gradient-orange floating" style="animation-delay: 0.4s;">
        <text class="iconfont icon-users"></text>
      </view>
      <text class="feature-text">å¥½å‹åœˆ</text>
    </view>
  </view>

  <!-- çƒ­é—¨èœè°±åŒºåŸŸ -->
  <view class="hot-recipes">
    <view class="section-header">
      <text class="section-title">ğŸ”¥ çƒ­é—¨èœè°±</text>
      <view class="view-more" bindtap="onMoreClick">
        <text class="more-text">æŸ¥çœ‹æ›´å¤š</text>
        <text class="iconfont icon-arrow-right"></text>
      </view>
    </view>

    <view wx:if="{{loading}}" class="loading-container">
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <view wx:elif="{{recommendRecipes.length > 0}}" class="recipes-list">
      <view 
        wx:for="{{recommendRecipes}}" 
        wx:key="_id" 
        class="recipe-card"
        data-id="{{item._id}}"
        bindtap="onRecipeClick"
      >
        <view class="recipe-image-container">
          <image class="recipe-image" src="{{item.image ? item.image : '/images/default-recipe.png'}}" mode="aspectFill"></image>
          <view class="recipe-badge {{item.isVegetarian ? 'vegetarian' : 'popular'}}">
            <text class="badge-icon">{{item.isVegetarian ? 'ğŸŒ¿' : 'â¤ï¸'}}</text>
          </view>
        </view>
        
        <view class="recipe-content">
          <text class="recipe-title">{{item.title}}</text>
          <text class="recipe-desc">{{item.description}}</text>
          
          <view class="recipe-meta">
            <view class="meta-item">
              <text class="iconfont icon-clock"></text>
              <text class="meta-text">{{item.cookTime}}åˆ†é’Ÿ</text>
            </view>
            <view class="meta-item">
              <text class="iconfont icon-star"></text>
              <text class="meta-text">{{item.rating ? item.rating : 4.8}}</text>
            </view>
            <view class="meta-item views">
              <text class="iconfont icon-eye"></text>
              <text class="meta-text">{{item.views ? item.views : '1.2k'}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <view wx:else class="empty-container">
      <text class="empty-icon">ğŸ³</text>
      <text class="empty-text">æš‚æ— æ¨èèœè°±</text>
    </view>
  </view>
</view>