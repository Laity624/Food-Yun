<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èœè°±åˆ—è¡¨ - é£Ÿäº‘ï¼ˆå®¶åº­ç‰ˆï¼‰</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { overflow: hidden; }
        ::-webkit-scrollbar { display: none; }
        .phone-mockup {
            width: 375px;
            height: 812px;
            background: #000;
            border-radius: 40px;
            padding: 8px;
            box-shadow: 0 0 30px rgba(0,0,0,0.3);
        }
        .screen {
            width: 100%;
            height: 100%;
            background: #fafafa;
            border-radius: 32px;
            position: relative;
            overflow: hidden;
        }
        .status-bar {
            height: 44px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            color: #333;
            font-size: 14px;
            font-weight: 600;
            background: transparent;
        }
        .scene-tag {
            transition: all 0.3s ease;
        }
        .scene-tag.active {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        .recipe-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .recipe-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .ingredient-tag {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        .scene-tag-daily { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .scene-tag-quick { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .scene-tag-guest { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .scene-tag-light { background: linear-gradient(135deg, #06b6d4, #0891b2); }
        .scene-tag-heavy { background: linear-gradient(135deg, #ef4444, #dc2626); }
        
        .filter-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-gray-100">
    <div class="phone-mockup">
        <div class="screen">
            <!-- çŠ¶æ€æ  -->
            <div class="status-bar">
                <span>9:41</span>
                <div class="flex items-center space-x-1">
                    <i class="fas fa-signal text-sm"></i>
                    <i class="fas fa-wifi text-sm"></i>
                    <i class="fas fa-battery-three-quarters text-sm"></i>
                </div>
            </div>
            
            <!-- å¤´éƒ¨ -->
            <div class="bg-white px-6 py-4 border-b border-gray-100">
                <div class="flex items-center space-x-4">
                    <!-- æœç´¢æ¡† -->
                    <div class="flex-1 relative">
                        <input type="text" placeholder="ä»Šå¤©åƒä»€ä¹ˆï¼Ÿæœç´¢èœåæˆ–é£Ÿæ..." 
                               class="w-full pl-10 pr-4 py-3 bg-gray-50 border-0 rounded-2xl text-sm focus:ring-2 focus:ring-blue-200 focus:bg-white"
                               oninput="onSearchInput(this.value)">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                    
                    <!-- æ·»åŠ æŒ‰é’® -->
                    <button class="p-3 bg-blue-500 text-white rounded-2xl" onclick="addRecipe()">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>

            <!-- åœºæ™¯åˆ†ç±»ï¼ˆä¸»è¦ç­›é€‰ï¼‰ -->
            <div class="bg-white px-6 py-4 border-b border-gray-100">
                <h3 class="text-sm font-medium text-gray-600 mb-3">æŒ‰åœºæ™¯é€‰æ‹©</h3>
                <div class="grid grid-cols-5 gap-3">
                    <div class="scene-tag scene-tag-daily text-center p-3 rounded-2xl text-white cursor-pointer active" onclick="selectScene(this, 'æ—¥å¸¸å®¶å¸¸èœ')">
                        <div class="text-lg mb-1">ğŸ“…</div>
                        <div class="text-xs font-medium">æ—¥å¸¸</div>
                    </div>
                    <div class="scene-tag scene-tag-quick text-center p-3 rounded-2xl text-white cursor-pointer" onclick="selectScene(this, 'å¿«æ‰‹èœ')">
                        <div class="text-lg mb-1">âš¡</div>
                        <div class="text-xs font-medium">å¿«æ‰‹</div>
                    </div>
                    <div class="scene-tag scene-tag-guest text-center p-3 rounded-2xl text-white cursor-pointer" onclick="selectScene(this, 'å®´å®¢èœ')">
                        <div class="text-lg mb-1">ğŸ‰</div>
                        <div class="text-xs font-medium">å®´å®¢</div>
                    </div>
                    <div class="scene-tag scene-tag-light text-center p-3 rounded-2xl text-white cursor-pointer" onclick="selectScene(this, 'æ¸…æ·¡èœ')">
                        <div class="text-lg mb-1">ğŸ¥—</div>
                        <div class="text-xs font-medium">æ¸…æ·¡</div>
                    </div>
                    <div class="scene-tag scene-tag-heavy text-center p-3 rounded-2xl text-white cursor-pointer" onclick="selectScene(this, 'é‡å£å‘³èœ')">
                        <div class="text-lg mb-1">ğŸŒ¶ï¸</div>
                        <div class="text-xs font-medium">é‡å£å‘³</div>
                    </div>
                </div>
            </div>

            <!-- é£Ÿæå¿«é€Ÿç­›é€‰ -->
            <div class="bg-white px-6 py-3 border-b border-gray-100">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="text-sm font-medium text-gray-600">æŒ‰é£Ÿæç­›é€‰</h3>
                    <button class="text-xs text-blue-500" onclick="toggleAdvancedFilter()">
                        æ›´å¤šç­›é€‰ <i class="fas fa-chevron-down ml-1"></i>
                    </button>
                </div>
                <div class="flex space-x-2 overflow-x-auto">
                    <span class="ingredient-tag px-3 py-1 text-white text-xs rounded-full whitespace-nowrap cursor-pointer" onclick="toggleIngredient(this, 'è‚‰ç±»')">ğŸ¥© è‚‰ç±»</span>
                    <span class="ingredient-tag px-3 py-1 text-white text-xs rounded-full whitespace-nowrap cursor-pointer" onclick="toggleIngredient(this, 'æ°´äº§')">ğŸŸ æ°´äº§</span>
                    <span class="ingredient-tag px-3 py-1 text-white text-xs rounded-full whitespace-nowrap cursor-pointer" onclick="toggleIngredient(this, 'è›‹ç±»')">ğŸ¥š è›‹ç±»</span>
                    <span class="ingredient-tag px-3 py-1 text-white text-xs rounded-full whitespace-nowrap cursor-pointer" onclick="toggleIngredient(this, 'è”¬èœ')">ğŸ¥¬ è”¬èœ</span>
                    <span class="ingredient-tag px-3 py-1 text-white text-xs rounded-full whitespace-nowrap cursor-pointer" onclick="toggleIngredient(this, 'æ±¤ç±»')">ğŸ² æ±¤ç±»</span>
                    <span class="ingredient-tag px-3 py-1 text-white text-xs rounded-full whitespace-nowrap cursor-pointer" onclick="toggleIngredient(this, 'ä¸»é£Ÿ')">ğŸš ä¸»é£Ÿ</span>
                </div>
            </div>

            <!-- é«˜çº§ç­›é€‰é¢æ¿ -->
            <div id="advancedFilter" class="hidden filter-panel px-6 py-4 border-b border-gray-100">
                <div class="space-y-3">
                    <!-- åˆ¶ä½œæ—¶é—´ -->
                    <div>
                        <h4 class="text-xs font-medium text-gray-600 mb-2">åˆ¶ä½œæ—¶é—´</h4>
                        <div class="flex space-x-2">
                            <span class="px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded-full cursor-pointer" onclick="toggleTimeFilter(this, '10åˆ†é’Ÿ')">â±ï¸ 10åˆ†é’Ÿ</span>
                            <span class="px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded-full cursor-pointer" onclick="toggleTimeFilter(this, '30åˆ†é’Ÿ')">â° 30åˆ†é’Ÿ</span>
                            <span class="px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded-full cursor-pointer" onclick="toggleTimeFilter(this, '1å°æ—¶')">ğŸ• 1å°æ—¶</span>
                        </div>
                    </div>
                    
                    <!-- å£å‘³åå¥½ -->
                    <div>
                        <h4 class="text-xs font-medium text-gray-600 mb-2">å£å‘³åå¥½</h4>
                        <div class="flex space-x-2">
                            <span class="px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded-full cursor-pointer" onclick="toggleTasteFilter(this, 'å·èœ')">ğŸŒ¶ï¸ å·èœ</span>
                            <span class="px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded-full cursor-pointer" onclick="toggleTasteFilter(this, 'ç²¤èœ')">ğŸ¦ ç²¤èœ</span>
                            <span class="px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded-full cursor-pointer" onclick="toggleTasteFilter(this, 'å®¶å¸¸å‘³')">ğŸ  å®¶å¸¸å‘³</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å½“å‰ç­›é€‰æ¡ä»¶æ˜¾ç¤º -->
            <div id="currentFilters" class="hidden px-6 py-2 bg-blue-50">
                <div class="flex items-center space-x-2">
                    <span class="text-xs text-blue-600">å½“å‰ç­›é€‰ï¼š</span>
                    <div id="filterTags" class="flex space-x-1">
                        <!-- åŠ¨æ€ç”Ÿæˆç­›é€‰æ ‡ç­¾ -->
                    </div>
                    <button class="text-xs text-blue-500 ml-2" onclick="clearAllFilters()">æ¸…ç©º</button>
                </div>
            </div>
            
            <!-- èœè°±åˆ—è¡¨ -->
            <div class="flex-1 px-6 pt-4 pb-20 overflow-y-auto">
                <div class="space-y-4">
                    <!-- èœè°±å¡ç‰‡1 - æ—¥å¸¸å®¶å¸¸èœ -->
                    <div class="recipe-card bg-white rounded-2xl p-4 shadow-sm cursor-pointer" data-scene="æ—¥å¸¸å®¶å¸¸èœ" data-ingredient="è›‹ç±»" onclick="viewRecipe('1')">
                        <div class="flex space-x-4">
                            <img src="https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=120&h=120&fit=crop" 
                                 alt="ç•ªèŒ„é¸¡è›‹" class="w-20 h-20 rounded-xl object-cover">
                            <div class="flex-1">
                                <h3 class="font-semibold text-gray-800 mb-1">ç•ªèŒ„é¸¡è›‹</h3>
                                <p class="text-xs text-gray-500 mb-2">ç»å…¸å®¶å¸¸èœï¼Œé…¸ç”œå¼€èƒƒ</p>
                                <div class="flex items-center space-x-3 text-xs text-gray-400 mb-2">
                                    <span><i class="fas fa-clock mr-1"></i>15åˆ†é’Ÿ</span>
                                    <span><i class="fas fa-users mr-1"></i>2-3äºº</span>
                                    <span><i class="fas fa-star mr-1 text-yellow-400"></i>4.8</span>
                                </div>
                                <div class="flex space-x-1">
                                    <span class="scene-tag-daily px-2 py-0.5 text-white text-xs rounded">æ—¥å¸¸</span>
                                    <span class="ingredient-tag px-2 py-0.5 text-white text-xs rounded">è›‹ç±»</span>
                                    <span class="px-2 py-0.5 bg-orange-100 text-orange-600 text-xs rounded">å¿«æ‰‹</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- èœè°±å¡ç‰‡2 - å¿«æ‰‹èœ -->
                    <div class="recipe-card bg-white rounded-2xl p-4 shadow-sm cursor-pointer" data-scene="å¿«æ‰‹èœ" data-ingredient="è”¬èœ" onclick="viewRecipe('2')">
                        <div class="flex space-x-4">
                            <img src="https://images.unsplash.com/photo-1604909052743-94e838986d24?w=120&h=120&fit=crop" 
                                 alt="å‡‰æ‹Œé»„ç“œ" class="w-20 h-20 rounded-xl object-cover">
                            <div class="flex-1">
                                <h3 class="font-semibold text-gray-800 mb-1">å‡‰æ‹Œé»„ç“œ</h3>
                                <p class="text-xs text-gray-500 mb-2">æ¸…è„†çˆ½å£ï¼Œå¼€èƒƒä¸‹é…’</p>
                                <div class="flex items-center space-x-3 text-xs text-gray-400 mb-2">
                                    <span><i class="fas fa-clock mr-1"></i>5åˆ†é’Ÿ</span>
                                    <span><i class="fas fa-users mr-1"></i>2-4äºº</span>
                                    <span><i class="fas fa-star mr-1 text-yellow-400"></i>4.5</span>
                                </div>
                                <div class="flex space-x-1">
                                    <span class="scene-tag-quick px-2 py-0.5 text-white text-xs rounded">å¿«æ‰‹</span>
                                    <span class="ingredient-tag px-2 py-0.5 text-white text-xs rounded">è”¬èœ</span>
                                    <span class="px-2 py-0.5 bg-cyan-100 text-cyan-600 text-xs rounded">æ¸…æ·¡</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- èœè°±å¡ç‰‡3 - å®´å®¢èœ -->
                    <div class="recipe-card bg-white rounded-2xl p-4 shadow-sm cursor-pointer" data-scene="å®´å®¢èœ" data-ingredient="è‚‰ç±»" onclick="viewRecipe('3')">
                        <div class="flex space-x-4">
                            <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=120&h=120&fit=crop" 
                                 alt="çº¢çƒ§è‚‰" class="w-20 h-20 rounded-xl object-cover">
                            <div class="flex-1">
                                <h3 class="font-semibold text-gray-800 mb-1">çº¢çƒ§è‚‰</h3>
                                <p class="text-xs text-gray-500 mb-2">é¦™ç”œè½¯ç³¯ï¼Œå…¥å£å³åŒ–</p>
                                <div class="flex items-center space-x-3 text-xs text-gray-400 mb-2">
                                    <span><i class="fas fa-clock mr-1"></i>90åˆ†é’Ÿ</span>
                                    <span><i class="fas fa-users mr-1"></i>4-6äºº</span>
                                    <span><i class="fas fa-star mr-1 text-yellow-400"></i>4.9</span>
                                </div>
                                <div class="flex space-x-1">
                                    <span class="scene-tag-guest px-2 py-0.5 text-white text-xs rounded">å®´å®¢</span>
                                    <span class="ingredient-tag px-2 py-0.5 text-white text-xs rounded">è‚‰ç±»</span>
                                    <span class="px-2 py-0.5 bg-red-100 text-red-600 text-xs rounded">é‡å£å‘³</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- èœè°±å¡ç‰‡4 - æ¸…æ·¡èœ -->
                    <div class="recipe-card bg-white rounded-2xl p-4 shadow-sm cursor-pointer" data-scene="æ¸…æ·¡èœ" data-ingredient="æ°´äº§" onclick="viewRecipe('4')">
                        <div class="flex space-x-4">
                            <img src="https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=120&h=120&fit=crop" 
                                 alt="æ¸…è’¸é²ˆé±¼" class="w-20 h-20 rounded-xl object-cover">
                            <div class="flex-1">
                                <h3 class="font-semibold text-gray-800 mb-1">æ¸…è’¸é²ˆé±¼</h3>
                                <p class="text-xs text-gray-500 mb-2">é²œå«©æ¸…é¦™ï¼Œè¥å…»ä¸°å¯Œ</p>
                                <div class="flex items-center space-x-3 text-xs text-gray-400 mb-2">
                                    <span><i class="fas fa-clock mr-1"></i>25åˆ†é’Ÿ</span>
                                    <span><i class="fas fa-users mr-1"></i>3-4äºº</span>
                                    <span><i class="fas fa-star mr-1 text-yellow-400"></i>4.7</span>
                                </div>
                                <div class="flex space-x-1">
                                    <span class="scene-tag-light px-2 py-0.5 text-white text-xs rounded">æ¸…æ·¡</span>
                                    <span class="ingredient-tag px-2 py-0.5 text-white text-xs rounded">æ°´äº§</span>
                                    <span class="px-2 py-0.5 bg-green-100 text-green-600 text-xs rounded">è’¸èœ</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- èœè°±å¡ç‰‡5 - æ±¤ç±» -->
                    <div class="recipe-card bg-white rounded-2xl p-4 shadow-sm cursor-pointer" data-scene="æ—¥å¸¸å®¶å¸¸èœ" data-ingredient="æ±¤ç±»" onclick="viewRecipe('5')">
                        <div class="flex space-x-4">
                            <img src="https://images.unsplash.com/photo-1547592166-23ac45744acd?w=120&h=120&fit=crop" 
                                 alt="å†¬ç“œæ’éª¨æ±¤" class="w-20 h-20 rounded-xl object-cover">
                            <div class="flex-1">
                                <h3 class="font-semibold text-gray-800 mb-1">å†¬ç“œæ’éª¨æ±¤</h3>
                                <p class="text-xs text-gray-500 mb-2">æ¸…çƒ­è§£è…»ï¼Œè¥å…»æ»‹è¡¥</p>
                                <div class="flex items-center space-x-3 text-xs text-gray-400 mb-2">
                                    <span><i class="fas fa-clock mr-1"></i>60åˆ†é’Ÿ</span>
                                    <span><i class="fas fa-users mr-1"></i>4-6äºº</span>
                                    <span><i class="fas fa-star mr-1 text-yellow-400"></i>4.6</span>
                                </div>
                                <div class="flex space-x-1">
                                    <span class="scene-tag-daily px-2 py-0.5 text-white text-xs rounded">æ—¥å¸¸</span>
                                    <span class="ingredient-tag px-2 py-0.5 text-white text-xs rounded">æ±¤ç±»</span>
                                    <span class="px-2 py-0.5 bg-blue-100 text-blue-600 text-xs rounded">ç‚–æ±¤</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- èœè°±å¡ç‰‡6 - é‡å£å‘³èœ -->
                    <div class="recipe-card bg-white rounded-2xl p-4 shadow-sm cursor-pointer" data-scene="é‡å£å‘³èœ" data-ingredient="è‚‰ç±»" onclick="viewRecipe('6')">
                        <div class="flex space-x-4">
                            <img src="https://images.unsplash.com/photo-1626804475297-41608ea09aeb?w=120&h=120&fit=crop" 
                                 alt="éº»å©†è±†è…" class="w-20 h-20 rounded-xl object-cover">
                            <div class="flex-1">
                                <h3 class="font-semibold text-gray-800 mb-1">éº»å©†è±†è…</h3>
                                <p class="text-xs text-gray-500 mb-2">éº»è¾£é²œé¦™ï¼Œç»å…¸å·èœ</p>
                                <div class="flex items-center space-x-3 text-xs text-gray-400 mb-2">
                                    <span><i class="fas fa-clock mr-1"></i>20åˆ†é’Ÿ</span>
                                    <span><i class="fas fa-users mr-1"></i>2-3äºº</span>
                                    <span><i class="fas fa-star mr-1 text-yellow-400"></i>4.8</span>
                                </div>
                                <div class="flex space-x-1">
                                    <span class="scene-tag-heavy px-2 py-0.5 text-white text-xs rounded">é‡å£å‘³</span>
                                    <span class="ingredient-tag px-2 py-0.5 text-white text-xs rounded">è±†åˆ¶å“</span>
                                    <span class="px-2 py-0.5 bg-red-100 text-red-600 text-xs rounded">å·èœ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- åº•éƒ¨å¯¼èˆª -->
            <div class="bg-white border-t border-gray-100 px-6 py-3 absolute bottom-0 left-0 right-0">
                <div class="grid grid-cols-4 gap-4">
                    <div class="text-center">
                        <i class="fas fa-home text-gray-400 text-xl mb-1"></i>
                        <p class="text-xs text-gray-400">é¦–é¡µ</p>
                    </div>
                    <div class="text-center">
                        <i class="fas fa-book text-blue-500 text-xl mb-1"></i>
                        <p class="text-xs text-blue-500">èœè°±</p>
                    </div>
                    <div class="text-center">
                        <i class="fas fa-shopping-cart text-gray-400 text-xl mb-1"></i>
                        <p class="text-xs text-gray-400">è®¢å•</p>
                    </div>
                    <div class="text-center">
                        <i class="fas fa-user text-gray-400 text-xl mb-1"></i>
                        <p class="text-xs text-gray-400">æˆ‘çš„</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentScene = 'æ—¥å¸¸å®¶å¸¸èœ';
        let selectedIngredients = [];
        let selectedTime = '';
        let selectedTaste = '';
        let showAdvanced = false;

        // æœç´¢è¾“å…¥å¤„ç†
        function onSearchInput(value) {
            const searchTerm = value.toLowerCase().trim();
            const recipes = document.querySelectorAll('.recipe-card');
            
            recipes.forEach(recipe => {
                const title = recipe.querySelector('h3').textContent.toLowerCase();
                const description = recipe.querySelector('p').textContent.toLowerCase();
                
                if (searchTerm === '' || title.includes(searchTerm) || description.includes(searchTerm)) {
                    recipe.style.display = 'block';
                } else {
                    recipe.style.display = 'none';
                }
            });
            
            // å¦‚æœæœ‰æœç´¢å†…å®¹ï¼Œæš‚æ—¶å¿½ç•¥å…¶ä»–ç­›é€‰æ¡ä»¶
            if (searchTerm !== '') {
                return;
            }
            
            // å¦‚æœæœç´¢æ¡†ä¸ºç©ºï¼Œé‡æ–°åº”ç”¨ç­›é€‰æ¡ä»¶
            filterRecipes();
        }

        // é€‰æ‹©åœºæ™¯
        function selectScene(element, scene) {
            // ç§»é™¤æ‰€æœ‰activeçŠ¶æ€
            document.querySelectorAll('.scene-tag').forEach(tag => {
                tag.classList.remove('active');
            });
            
            // æ·»åŠ activeçŠ¶æ€
            element.classList.add('active');
            currentScene = scene;
            
            // æ›´æ–°èœè°±æ˜¾ç¤º
            filterRecipes();
            updateCurrentFilters();
        }

        // åˆ‡æ¢é£Ÿæç­›é€‰
        function toggleIngredient(element, ingredient) {
            const index = selectedIngredients.indexOf(ingredient);
            if (index > -1) {
                selectedIngredients.splice(index, 1);
                element.style.opacity = '0.7';
            } else {
                selectedIngredients.push(ingredient);
                element.style.opacity = '1';
            }
            
            filterRecipes();
            updateCurrentFilters();
        }

        // åˆ‡æ¢é«˜çº§ç­›é€‰é¢æ¿
        function toggleAdvancedFilter() {
            const panel = document.getElementById('advancedFilter');
            const icon = document.querySelector('.fa-chevron-down');
            
            showAdvanced = !showAdvanced;
            
            if (showAdvanced) {
                panel.classList.remove('hidden');
                panel.classList.add('fade-in');
                icon.style.transform = 'rotate(180deg)';
            } else {
                panel.classList.add('hidden');
                icon.style.transform = 'rotate(0deg)';
            }
        }

        // åˆ‡æ¢æ—¶é—´ç­›é€‰
        function toggleTimeFilter(element, time) {
            // é‡ç½®å…¶ä»–æ—¶é—´é€‰é¡¹
            document.querySelectorAll('[onclick*="toggleTimeFilter"]').forEach(el => {
                el.classList.remove('bg-blue-500', 'text-white');
                el.classList.add('bg-gray-100', 'text-gray-600');
            });
            
            if (selectedTime === time) {
                selectedTime = '';
            } else {
                selectedTime = time;
                element.classList.remove('bg-gray-100', 'text-gray-600');
                element.classList.add('bg-blue-500', 'text-white');
            }
            
            filterRecipes();
            updateCurrentFilters();
        }

        // åˆ‡æ¢å£å‘³ç­›é€‰
        function toggleTasteFilter(element, taste) {
            // é‡ç½®å…¶ä»–å£å‘³é€‰é¡¹
            document.querySelectorAll('[onclick*="toggleTasteFilter"]').forEach(el => {
                el.classList.remove('bg-blue-500', 'text-white');
                el.classList.add('bg-gray-100', 'text-gray-600');
            });
            
            if (selectedTaste === taste) {
                selectedTaste = '';
            } else {
                selectedTaste = taste;
                element.classList.remove('bg-gray-100', 'text-gray-600');
                element.classList.add('bg-blue-500', 'text-white');
            }
            
            filterRecipes();
            updateCurrentFilters();
        }

        // ç­›é€‰èœè°±
        function filterRecipes() {
            const recipes = document.querySelectorAll('.recipe-card');
            
            recipes.forEach(recipe => {
                let show = true;
                
                // åœºæ™¯ç­›é€‰
                if (currentScene !== 'æ—¥å¸¸å®¶å¸¸èœ') {
                    const recipeScene = recipe.dataset.scene;
                    if (recipeScene !== currentScene) {
                        show = false;
                    }
                }
                
                // é£Ÿæç­›é€‰
                if (selectedIngredients.length > 0) {
                    const recipeIngredient = recipe.dataset.ingredient;
                    if (!selectedIngredients.includes(recipeIngredient)) {
                        show = false;
                    }
                }
                
                // æ˜¾ç¤º/éšè—èœè°±
                if (show) {
                    recipe.style.display = 'block';
                    recipe.classList.add('fade-in');
                } else {
                    recipe.style.display = 'none';
                }
            });
        }

        // æ›´æ–°å½“å‰ç­›é€‰æ¡ä»¶æ˜¾ç¤º
        function updateCurrentFilters() {
            const currentFilters = document.getElementById('currentFilters');
            const filterTags = document.getElementById('filterTags');
            
            let tags = [];
            
            if (currentScene !== 'æ—¥å¸¸å®¶å¸¸èœ') {
                tags.push(currentScene);
            }
            
            tags = tags.concat(selectedIngredients);
            
            if (selectedTime) {
                tags.push(selectedTime);
            }
            
            if (selectedTaste) {
                tags.push(selectedTaste);
            }
            
            if (tags.length > 0) {
                currentFilters.classList.remove('hidden');
                filterTags.innerHTML = tags.map(tag => 
                    `<span class="px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full">${tag}</span>`
                ).join('');
            } else {
                currentFilters.classList.add('hidden');
            }
        }

        // æ¸…ç©ºæ‰€æœ‰ç­›é€‰
        function clearAllFilters() {
            // é‡ç½®åœºæ™¯ä¸ºæ—¥å¸¸
            document.querySelectorAll('.scene-tag').forEach(tag => {
                tag.classList.remove('active');
            });
            document.querySelector('.scene-tag-daily').classList.add('active');
            currentScene = 'æ—¥å¸¸å®¶å¸¸èœ';
            
            // é‡ç½®é£Ÿæ
            selectedIngredients = [];
            document.querySelectorAll('.ingredient-tag').forEach(tag => {
                tag.style.opacity = '0.7';
            });
            
            // é‡ç½®æ—¶é—´å’Œå£å‘³
            selectedTime = '';
            selectedTaste = '';
            document.querySelectorAll('[onclick*="toggleTimeFilter"], [onclick*="toggleTasteFilter"]').forEach(el => {
                el.classList.remove('bg-blue-500', 'text-white');
                el.classList.add('bg-gray-100', 'text-gray-600');
            });
            
            filterRecipes();
            updateCurrentFilters();
        }

        // æŸ¥çœ‹èœè°±è¯¦æƒ…
        function viewRecipe(id) {
            console.log('æŸ¥çœ‹èœè°±:', id);
            alert(`æŸ¥çœ‹èœè°± ${id} çš„è¯¦æƒ…`);
        }

        // æ·»åŠ èœè°±
        function addRecipe() {
            console.log('æ·»åŠ æ–°èœè°±');
            alert('è·³è½¬åˆ°åˆ›å»ºèœè°±é¡µé¢');
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è®¾ç½®åˆå§‹çŠ¶æ€
            document.querySelectorAll('.ingredient-tag').forEach(tag => {
                tag.style.opacity = '0.7';
            });
            
            filterRecipes();
        });
    </script>
</body>
</html>